<!DOCTYPE html>
<html lang="en">
  <head>
    <title>CodeMacabre</title>

    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta title="CodeMacabre" />
    <meta name="description" content="Web development and cyborg activism" />

    <!-- STYLES -->
    <link href="main.css" rel="stylesheet" />

    <!-- SCRIPTS -->
    <script>
      window.onload = () => {
        // Insert current year
        const date = document.querySelector("#date");
        if (date) {
          function convert(num) {
            const rom = {
              M: 1000,
              CM: 900,
              D: 500,
              CD: 400,
              C: 100,
              XC: 90,
              L: 50,
              XL: 40,
              X: 10,
              IX: 9,
              V: 5,
              IV: 4,
              I: 1,
            };

            return Object.keys(rom).reduce(
              (acc, ch) => {
                acc.str += ch.repeat(acc.num / rom[ch]);
                acc.num %= rom[ch];
                return acc;
              },
              { str: "", num: num }
            ).str;
          }

          date.innerHTML = convert(new Date().getFullYear());
        }

        // Insert email address
        const mail = document.querySelector("#mail");

        let e = "contact";
        let at = "@";
        let d = "codemacabre";
        let dot = ".";
        let c = "com";
        let h = e + at + d + dot + c;
        let t = `<a class="icon-link" href="mailto: ${h}">CodeMacabre</a>`;

        if (mail) {
          mail.innerHTML = t;
        }
      };
    </script>
  </head>

  <body>
    <main>
      <img class="mort" src="mort.svg" alt="A coffin" />
    </main>

    <footer>
      <p><span id="date">2021</span> <span id="mail">CodeMacabre</span></p>
    </footer>
  </body>
</html>
